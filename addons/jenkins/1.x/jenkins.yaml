apiVersion: kubeaddons.mesosphere.io/v1beta1
kind: Addon
metadata:
  name: jenkins
  labels:
    kubeaddons.mesosphere.io/name: jenkins
  annotations:
    catalog.kubeaddons.mesosphere.io/addon-revision: "1.9.4-2"
    appversion.kubeaddons.mesosphere.io/jenkins: "1.9.4"
    values.chart.helm.kubeaddons.mesosphere.io/jenkins: "https://raw.githubusercontent.com/jenkinsci/helm-charts/f251fce11b8c7dd376059732d965112e505907a3/charts/jenkins/values.yaml"
spec:
  kubernetes:
    minSupportedVersion: v1.16.3
  cloudProvider:
    - name: aws
      enabled: true
    - name: azure
      enabled: true
    - name: docker
      enabled: true
    - name: none
      enabled: true
  chartReference:
    chart: jenkins
    repo: https://charts.jenkins.io
    version: 2.6.4
    values: |
      ---
      master:
        useSecurity: false
        installPlugins:
          - prometheus:2.0.6
          - kubernetes:1.18.2
          - workflow-job:2.39
          - workflow-aggregator:2.6
          - credentials-binding:1.23
          - git:4.4.2
        csrf:
          defaultCrumbIssuer:
            enabled: false
            proxyCompatability: false
        serviceType: "ClusterIP"
        jenkinsUriPrefix: "/jenkins"
        ingress:
          enabled: true
          path: /jenkins
          annotations:
            kubernetes.io/ingress.class: traefik
